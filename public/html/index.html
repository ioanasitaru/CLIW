<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../img/ms-icon-144x144.png">
    <meta name="theme-color" content="#1C1D26"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="../img/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../img/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../img/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../img/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../img/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../img/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../img/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../img/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../img/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../img/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../img/favicon-16x16.png">

    <link rel="manifest" href="../manifest.json">

    <title>ASLE</title>

    <link href="../css/about.css" rel="stylesheet">
    <link href="../css/score.css" rel="stylesheet">
    <link href="../css/index.css" rel="stylesheet">
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">-->
</head>
<body class="landing">
<div id="page-wrapper">
    <div id="header">
        <a href="#" id="logo-link">
            <img src="../img/favicon-96x96.png" id="logo" alt="asle-logo">
        </a>
        <!--<div class="vertical-line"></div>-->
        <nav id="nav">
            <ul>
                <li><a href="about.html" id="home">Home</a></li>
                <li>
                    <a href="index.html" id="practice">Practice</a>
                </li>
                <li><a href="score.html" id="progress">Progress</a></li>
            </ul>
        </nav>
    </div>
    <div id="main" class="wrapper">
        <div class="container">
            <header class="min-major">
                <div>
                    <h2 id="main-title" class="title">Learning modules</h2>
                    <h4 class="subtitle">Practice makes perfect</h4></div>
            </header>
            <div id="content">
                <div id="left-side">
                    <div id="changeable_content">
                    </div>
                </div>
                <div id="right-side">
                    <div id="progress-image"><img src="../img/level4.png" alt="max-progress"></div>
                    <div id="side-bar-buttons">
                        <hr>
                        <section id="references">
                            <h3> Useful references </h3>
                            <div id="links">
                                <a href="http://www.openculture.com/freelanguagelessons"> Courses online</a>
                                <a href="https://en.wikipedia.org/wiki/Japanese_language"> Wiki Japanese</a>
                            </div>
                        </section>
                        <br>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="../js/ModuleLoader.js"></script>
<script src="../js/DataService.js"></script>
<script src="../js/Score.js"></script>
<script src="../comp.json"></script>
<script>mLoader = new ModuleLoader("changeable_content");</script>
<script>
    String.prototype.capitalize = function () {
        return this.charAt(0).toUpperCase() + this.slice(1);
    };

    let moduleMenu = document.getElementById("side-bar-buttons");
    let references = document.getElementById("references");

    fetch("../comp.json")
        .then(response => response.json())
        .then(components => {
            components.forEach((component) => {
                let newSection = document.createElement("section");
                let title = document.createElement("h3");
                let description = document.createElement("p");
                let button = document.createElement("button");
                let after = document.createElement("hr");
                button.setAttribute("id", component.name + '-button');

                title.innerText = component.name.capitalize();
                description.innerText = component.description;
                button.addEventListener("click", function () {
                    mLoader.changeContent(component.src);
                }, false);
                button.innerText = component.button;

                newSection.appendChild(title);
                newSection.appendChild(description);
                newSection.appendChild(button);

                moduleMenu.insertBefore(newSection, references);
                moduleMenu.insertBefore(after, references);
            });
        });
    mLoader.changeContent("../components/draw/draw.html");
</script>
<script>
    if ('serviceWorker' in navigator) {
        // console.log("Beam me up");
        navigator.serviceWorker
            .register('/service-worker.js')
            .then(function () { /*console.log("Service Worker Registered");*/
            });
    }
</script>
</html>